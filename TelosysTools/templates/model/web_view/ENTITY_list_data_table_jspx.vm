<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- File generated by $generator.name ( version $generator.version ) - Date $today.date("yyyy-MM-dd") ( Time $today.time ) -->

<div xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:joda="http://www.joda.org/joda/time/tags" xmlns:s="http://www.springframework.org/tags" xmlns:form="http://www.springframework.org/tags/form" xmlns:util="urn:jsptagdir:/WEB-INF/tags/util" xmlns:display="urn:jsptagdir:/WEB-INF/tags/display" xmlns:fn="http://java.sun.com/jsp/jstl/functions" version="2.0">

<jsp:directive.page contentType="text/html;charset=UTF-8"/>
##--------------------------------------------------------------------------------------------------------
#set( $_ = "$" )
##--------------------------------------------------------------------------------------------------------
## Key fields = fields in Primary Key    
#set( $keyFields = $entity.getAttributesByCriteria( $const.KEY ) )
##--------------------------------------------------------------------------------------------------------
## Data fields = fields not in Primary Key and not in selected Links    
#set( $dataFields = $entity.getAttributesByCriteria( $const.NOT_KEY, $const.NOT_IN_SELECTED_LINKS ) )
##--------------------------------------------------------------------------------------------------------
## #set( $itemVariable = $fn.uncapitalize($entity.name) )
#set( $itemVariable = $fn.uncapitalize($entity.name) )
##--------------------------------------------------------------------------------------------------------
<jsp:output omit-xml-declaration="yes"/>

<style type="text/css">
#list_data_body td {
	padding-top: 0;
	padding-bottom: 0;
};
</style>

<script type='text/javascript'>

$(document).ready(function() {
	
	    datatable = $_("#list_data").DataTable( {
	    	
	 		"lengthMenu": [[10, 25, 50, 100], [10, 25, 50, 100]],
	        "processing": false,
	        "serverSide": true,
	        "bSort": false,
	        "bFilter": false,		//senza input x search
	        //bStateSave variable you can use to save state on client cookies: set value "true" 
	        "bStateSave": false,
	        //Default: Page display length
	        "iDisplayLength": 10,
	        //We will use below variable to track page number on server side(For more information visit: http://legacy.datatables.net/usage/options#iDisplayStart)
	        "iDisplayStart": 0,
	        "scrollY": "280px",
	        "scrollCollapse": true,
	        //"fnDrawCallback": function () {
	            //Get page numer on client. Please note: number start from 0 So
	            //for the first page you will see 0 second page 1 third page 2...
	            //Un-comment below alert to see page number
	        	//alert("Current page number: "+this.fnPagingInfo().iPage);
	        //},
        "language": {
            "lengthMenu": "Mostra _MENU_ righe per pagina",
            "zeroRecords": "Nessun valore da visualizzare",
            "info": "Pagina _PAGE_ di _PAGES_",
            "infoEmpty": "Non ci sono valori disponibili",
            "emptyTable": "Non ci sono valori disponibili",
            "infoFiltered": "(filtrati da _MAX_ records totali)",
            "search":         "Cerca:",
            "thousands":      ".",
            "decimal":        "",
            "loadingRecords": "Loading...",
            "processing":     "Processing...",
            "paginate": {
                "first":      "Primo",
                "last":       "Ultimo",
                "next":       "Successivo",
                "previous":   "Precedente"
            }
        },
        "ajax": 
        	{
            url : "page",
            dataType: "json",
            type: "GET", 				// This is the default value, could also be POST
            beforeSend: function (msg) {
                console.log("2-sending...");
            },
            data: function(d) {
                },
        	},
        "columns": [
## KEY FIELDS
#foreach( $field in $keyFields )
   				{ "mData": "${field.formattedName(0)}" },
#end
## DATA FIELDS
#foreach( $field in $dataFields )
   				{ "mData": "${field.formattedName(0)}" },
#end
        			],
        "order": [[ 1, 'asc' ], [ 2, 'desc' ]]
    } );
	    
	${_}('#${itemVariable}_nome').on('change paste',
		function () {
			datatable.ajax.reload();
		}
	);

});
	
</script>

  <div class="container">
	<legend class="legende"><s:message code="$itemVariable"/></legend>

	<util:message message="${_}{message}" messages="${_}{messages}" />
	
	<div id="result_list" >
	
		<table id='list_data' class="table table-hover" style="width:100%">
			<thead>
				<tr>
## KEY FIELDS
#foreach( $field in $keyFields )
					<th><s:message code="${itemVariable}.${field.formattedName(0)}"/></th>
#end
## DATA FIELDS
#foreach( $field in $dataFields )
					<th><s:message code="${itemVariable}.${field.formattedName(0)}"/></th>
#end
				</tr>
			</thead>
		    <tbody id = "list_data_body" >
		    </tbody>
	  	</table>
	  	
		<s:url var="url_create" value="/${itemVariable}/form"  />
		<a class="btn-info btn-xs" href='${_}{url_create}'><s:message code="create"/></a>
	  	
  	</div>
	  	
  </div>

</div>
